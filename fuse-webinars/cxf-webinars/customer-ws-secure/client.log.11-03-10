2011-03-10 13:37:46 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@199836ed: startup date [Thu Mar 10 13:37:46 GMT 2011]; root of context hierarchy
2011-03-10 13:37:47 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 13:37:47 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 13:37:47 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 13:37:47 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 13:37:47 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 13:37:47 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 13:37:47 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 13:37:47 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 13:37:47 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 13:37:47 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@73c6641: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 14:37:10 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@72e6f7d2: startup date [Thu Mar 10 14:37:10 GMT 2011]; root of context hierarchy
2011-03-10 14:37:10 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 14:37:10 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 14:37:10 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 14:37:10 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 14:37:10 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 14:37:10 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 14:37:10 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 14:37:10 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 14:37:10 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 14:37:10 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@b035079: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 15:32:13 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@214a55f2: startup date [Thu Mar 10 15:32:13 GMT 2011]; root of context hierarchy
2011-03-10 15:32:13 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 15:32:13 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 15:32:13 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 15:32:13 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 15:32:13 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 15:32:13 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 15:32:13 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 15:32:13 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 15:32:13 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 15:32:14 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@526d0040: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 16:17:06 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2b20bf2c: startup date [Thu Mar 10 16:17:06 GMT 2011]; root of context hierarchy
2011-03-10 16:17:07 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 16:17:07 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 16:17:07 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 16:17:07 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 16:17:07 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 16:17:07 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 16:17:07 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 16:17:07 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 16:17:07 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 16:17:07 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@722b9406: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 16:17:09 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 16:17:11 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
org.apache.cxf.binding.soap.SoapFault: Security processing failed.
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:272)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:42)
Caused by: org.apache.ws.security.WSSecurityException: Unknown action defined: UserToken
	at org.apache.ws.security.util.WSSecurityUtil.decodeAction(WSSecurityUtil.java:956)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:192)
	... 9 more
2011-03-10 16:18:36 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@199836ed: startup date [Thu Mar 10 16:18:36 GMT 2011]; root of context hierarchy
2011-03-10 16:18:36 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 16:18:36 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 16:18:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 16:18:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 16:18:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 16:18:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 16:18:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 16:18:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 16:18:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 16:18:37 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@34d507e9: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 16:18:39 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 16:18:41 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://localhost:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><wsu:Timestamp xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="Timestamp-2"><wsu:Created>2011-03-10T16:18:41.201Z</wsu:Created><wsu:Expires>2011-03-10T16:23:41.201Z</wsu:Expires></wsu:Timestamp><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">q2O2hm+8Y2MIIcIrtWEoYOq/oig=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">Ahen5+EQu1n8VAPdjwHkkw==</wsse:Nonce><wsu:Created>2011-03-10T16:18:41.197Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><ns2:lookupCustomer xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><customerId>007</customerId></ns2:lookupCustomer></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 16:18:42 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
org.apache.cxf.interceptor.Fault: Could not send Message.
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:64)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:42)
Caused by: java.io.IOException: IOException invoking https://localhost:8443/cxf/Customers: The https URL hostname does not match the Common Name (CN) on the server certificate.  To disable this check (NOT recommended for production) set the CXF client TLS configuration property "disableCNCheck" to true.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.mapException(HTTPConduit.java:2107)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:2092)
	at org.apache.cxf.io.CacheAndWriteOutputStream.postClose(CacheAndWriteOutputStream.java:47)
	at org.apache.cxf.io.CachedOutputStream.close(CachedOutputStream.java:188)
	at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
	at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:697)
	at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
	... 8 more
Caused by: java.io.IOException: The https URL hostname does not match the Common Name (CN) on the server certificate.  To disable this check (NOT recommended for production) set the CXF client TLS configuration property "disableCNCheck" to true.
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.onFirstWrite(HTTPConduit.java:1958)
	at org.apache.cxf.io.AbstractWrappedOutputStream.write(AbstractWrappedOutputStream.java:42)
	at org.apache.cxf.io.AbstractThresholdOutputStream.write(AbstractThresholdOutputStream.java:69)
	at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:2023)
	... 13 more
2011-03-10 16:23:44 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@583e0ebb: startup date [Thu Mar 10 16:23:44 GMT 2011]; root of context hierarchy
2011-03-10 16:23:44 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 16:23:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 16:23:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 16:23:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 16:23:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 16:23:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 16:23:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 16:23:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 16:23:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 16:23:45 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@7eb1cc87: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 16:23:46 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 16:23:47 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><wsu:Timestamp xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="Timestamp-2"><wsu:Created>2011-03-10T16:23:47.831Z</wsu:Created><wsu:Expires>2011-03-10T16:28:47.831Z</wsu:Expires></wsu:Timestamp><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">uYlYbtl067O+07So5Q1Ek68V65k=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">Bu2qxI0g6WNCdrTcr0nXVw==</wsse:Nonce><wsu:Created>2011-03-10T16:23:47.829Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><ns2:lookupCustomer xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><customerId>007</customerId></ns2:lookupCustomer></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 16:23:48 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 500
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[238], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><soap:Fault><faultcode>soap:Client</faultcode><faultstring>Unknown action defined: BinarySecurityToken</faultstring></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 16:25:44 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2b20bf2c: startup date [Thu Mar 10 16:25:44 GMT 2011]; root of context hierarchy
2011-03-10 16:25:44 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 16:25:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 16:25:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 16:25:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 16:25:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 16:25:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 16:25:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 16:25:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 16:25:44 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 16:25:44 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@722b9406: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 16:25:46 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 16:25:47 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><wsu:Timestamp xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="Timestamp-2"><wsu:Created>2011-03-10T16:25:47.780Z</wsu:Created><wsu:Expires>2011-03-10T16:30:47.780Z</wsu:Expires></wsu:Timestamp><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">nePzwwblYdi8Q4wgkrX86mcISM8=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">qISK9Qbr5mJYs8d2Ap41rg==</wsse:Nonce><wsu:Created>2011-03-10T16:25:47.777Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><ns2:lookupCustomer xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><customerId>007</customerId></ns2:lookupCustomer></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 16:25:48 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[431], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ns2:lookupCustomerResponse xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><ret><ns3:firstName>Ade</ns3:firstName><ns3:lastName>Trenaman</ns3:lastName><ns3:phoneNumber>+353-1-01234567</ns3:phoneNumber><ns3:id>007</ns3:id></ret></ns2:lookupCustomerResponse></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 16:48:11 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@175093f1: startup date [Thu Mar 10 16:48:11 GMT 2011]; root of context hierarchy
2011-03-10 16:48:12 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 16:48:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 16:48:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 16:48:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 16:48:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 16:48:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 16:48:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 16:48:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 16:48:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 16:48:12 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@b035079: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 16:48:13 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 16:48:15 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><wsu:Timestamp xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="Timestamp-2"><wsu:Created>2011-03-10T16:48:15.126Z</wsu:Created><wsu:Expires>2011-03-10T16:53:15.126Z</wsu:Expires></wsu:Timestamp><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">drqXWl3TFTGM+p7zySUmEimFidM=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">iEW4rA/WNt+j9IkAN1FrZg==</wsse:Nonce><wsu:Created>2011-03-10T16:48:15.124Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><ns2:lookupCustomer xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><customerId>007</customerId></ns2:lookupCustomer></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 16:48:15 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[431], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ns2:lookupCustomerResponse xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><ret><ns3:firstName>Ade</ns3:firstName><ns3:lastName>Trenaman</ns3:lastName><ns3:phoneNumber>+353-1-01234567</ns3:phoneNumber><ns3:id>007</ns3:id></ret></ns2:lookupCustomerResponse></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 16:50:52 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@5239443f: startup date [Thu Mar 10 16:50:52 GMT 2011]; root of context hierarchy
2011-03-10 16:50:52 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 16:50:52 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 16:50:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 16:50:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 16:50:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 16:50:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 16:50:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 16:50:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 16:50:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 16:50:53 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@7eb1cc87: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 16:50:54 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 16:50:56 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><wsu:Timestamp xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="Timestamp-2"><wsu:Created>2011-03-10T16:50:56.041Z</wsu:Created><wsu:Expires>2011-03-10T16:55:56.041Z</wsu:Expires></wsu:Timestamp><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">YPt///dpFeSUg1UeWfe5Q5UL8Fo=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">E+WuMQeJEnC9pV1+g+sOQA==</wsse:Nonce><wsu:Created>2011-03-10T16:50:56.038Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><ns2:lookupCustomer xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><customerId>007</customerId></ns2:lookupCustomer></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 16:50:56 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[431], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ns2:lookupCustomerResponse xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><ret><ns3:firstName>Ade</ns3:firstName><ns3:lastName>Trenaman</ns3:lastName><ns3:phoneNumber>+353-1-01234567</ns3:phoneNumber><ns3:id>007</ns3:id></ret></ns2:lookupCustomerResponse></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 17:17:39 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2b20bf2c: startup date [Thu Mar 10 17:17:39 GMT 2011]; root of context hierarchy
2011-03-10 17:17:39 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 17:17:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 17:17:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 17:17:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 17:17:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 17:17:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 17:17:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 17:17:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 17:17:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 17:17:40 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@74f30494: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 17:17:41 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 17:17:42 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
java.lang.NullPointerException
	at org.apache.ws.security.message.WSSecSignature.prepare(WSSecSignature.java:311)
	at org.apache.ws.security.message.WSSecSignature.build(WSSecSignature.java:760)
	at org.apache.ws.security.action.SignatureAction.execute(SignatureAction.java:64)
	at org.apache.ws.security.handler.WSHandler.doSenderAction(WSHandler.java:205)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor.access$200(WSS4JOutInterceptor.java:50)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:257)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:42)
2011-03-10 17:26:53 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2b20bf2c: startup date [Thu Mar 10 17:26:53 GMT 2011]; root of context hierarchy
2011-03-10 17:26:53 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 17:26:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 17:26:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 17:26:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 17:26:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 17:26:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 17:26:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 17:26:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 17:26:53 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 17:26:53 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@74f30494: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 17:26:55 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 17:26:56 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
java.lang.RuntimeException: org.apache.ws.security.components.crypto.Merlin cannot create instance
	at org.apache.ws.security.components.crypto.CryptoFactory.loadClass(CryptoFactory.java:231)
	at org.apache.ws.security.components.crypto.CryptoFactory.getInstance(CryptoFactory.java:178)
	at org.apache.cxf.ws.security.wss4j.AbstractWSS4JInterceptor.loadCryptoFromPropertiesFile(AbstractWSS4JInterceptor.java:232)
	at org.apache.cxf.ws.security.wss4j.AbstractWSS4JInterceptor.loadEncryptionCrypto(AbstractWSS4JInterceptor.java:285)
	at org.apache.ws.security.handler.WSHandler.doSenderAction(WSHandler.java:156)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor.access$200(WSS4JOutInterceptor.java:50)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:257)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:48)
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
	at org.apache.ws.security.components.crypto.CryptoFactory.loadClass(CryptoFactory.java:217)
	... 15 more
Caused by: java.io.FileNotFoundException: adrian.trenaman.jks (No such file or directory)
	at java.io.FileInputStream.open(Native Method)
	at java.io.FileInputStream.<init>(FileInputStream.java:106)
	at java.io.FileInputStream.<init>(FileInputStream.java:66)
	at org.apache.ws.security.components.crypto.AbstractCrypto.<init>(AbstractCrypto.java:80)
	at org.apache.ws.security.components.crypto.Merlin.<init>(Merlin.java:73)
	... 20 more
2011-03-10 17:29:12 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@583e0ebb: startup date [Thu Mar 10 17:29:12 GMT 2011]; root of context hierarchy
2011-03-10 17:29:12 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 17:29:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 17:29:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 17:29:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 17:29:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 17:29:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 17:29:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 17:29:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 17:29:12 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 17:29:12 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@74f30494: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 17:29:13 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 17:29:16 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
org.apache.cxf.binding.soap.SoapFault: Security processing failed.
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:272)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:48)
Caused by: org.apache.ws.security.WSSecurityException: Error during encryption: ; nested exception is: 
	org.apache.ws.security.WSSecurityException: Cannot encrypt data; nested exception is: 
	java.security.InvalidKeyException: unknown key type passed to RSA
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:77)
	at org.apache.ws.security.handler.WSHandler.doSenderAction(WSHandler.java:205)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor.access$200(WSS4JOutInterceptor.java:50)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:257)
	... 9 more
Caused by: org.apache.ws.security.WSSecurityException: Cannot encrypt data; nested exception is: 
	java.security.InvalidKeyException: unknown key type passed to RSA
	at org.apache.ws.security.message.WSSecEncryptedKey.prepareInternal(WSSecEncryptedKey.java:199)
	at org.apache.ws.security.message.WSSecEncrypt.prepare(WSSecEncrypt.java:259)
	at org.apache.ws.security.message.WSSecEncrypt.build(WSSecEncrypt.java:293)
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:75)
	... 12 more
Caused by: java.security.InvalidKeyException: unknown key type passed to RSA
	at org.bouncycastle.jce.provider.JCERSACipher.engineInit(Unknown Source)
	at org.bouncycastle.jce.provider.JCERSACipher.engineInit(Unknown Source)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at org.apache.ws.security.message.WSSecEncryptedKey.prepareInternal(WSSecEncryptedKey.java:197)
	... 15 more
2011-03-10 17:39:06 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@583e0ebb: startup date [Thu Mar 10 17:39:06 GMT 2011]; root of context hierarchy
2011-03-10 17:39:06 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 17:39:06 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 17:39:06 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 17:39:06 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 17:39:06 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 17:39:06 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 17:39:06 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 17:39:06 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 17:39:06 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 17:39:07 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@74f30494: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 17:39:08 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 17:39:10 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
org.apache.cxf.binding.soap.SoapFault: Security processing failed.
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:272)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:48)
Caused by: org.apache.ws.security.WSSecurityException: Error during encryption: ; nested exception is: 
	org.apache.ws.security.WSSecurityException: General security error (No certificates for user adrian.trenaman were found for encryption)
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:77)
	at org.apache.ws.security.handler.WSHandler.doSenderAction(WSHandler.java:205)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor.access$200(WSS4JOutInterceptor.java:50)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:257)
	... 9 more
Caused by: org.apache.ws.security.WSSecurityException: General security error (No certificates for user adrian.trenaman were found for encryption)
	at org.apache.ws.security.message.WSSecEncrypt.prepare(WSSecEncrypt.java:251)
	at org.apache.ws.security.message.WSSecEncrypt.build(WSSecEncrypt.java:293)
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:75)
	... 12 more
2011-03-10 17:45:47 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@175093f1: startup date [Thu Mar 10 17:45:47 GMT 2011]; root of context hierarchy
2011-03-10 17:45:47 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 17:45:47 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 17:45:48 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 17:45:48 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 17:45:48 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 17:45:48 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 17:45:48 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 17:45:48 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 17:45:48 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 17:45:48 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@b035079: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 17:45:49 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 17:45:51 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
org.apache.cxf.binding.soap.SoapFault: Security processing failed.
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:272)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:48)
Caused by: org.apache.ws.security.WSSecurityException: Error during encryption: ; nested exception is: 
	org.apache.ws.security.WSSecurityException: Cannot encrypt data; nested exception is: 
	java.security.InvalidKeyException: unknown key type passed to RSA
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:77)
	at org.apache.ws.security.handler.WSHandler.doSenderAction(WSHandler.java:205)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor.access$200(WSS4JOutInterceptor.java:50)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:257)
	... 9 more
Caused by: org.apache.ws.security.WSSecurityException: Cannot encrypt data; nested exception is: 
	java.security.InvalidKeyException: unknown key type passed to RSA
	at org.apache.ws.security.message.WSSecEncryptedKey.prepareInternal(WSSecEncryptedKey.java:199)
	at org.apache.ws.security.message.WSSecEncrypt.prepare(WSSecEncrypt.java:259)
	at org.apache.ws.security.message.WSSecEncrypt.build(WSSecEncrypt.java:293)
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:75)
	... 12 more
Caused by: java.security.InvalidKeyException: unknown key type passed to RSA
	at org.bouncycastle.jce.provider.JCERSACipher.engineInit(Unknown Source)
	at org.bouncycastle.jce.provider.JCERSACipher.engineInit(Unknown Source)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.a(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at javax.crypto.Cipher.init(DashoA13*..)
	at org.apache.ws.security.message.WSSecEncryptedKey.prepareInternal(WSSecEncryptedKey.java:197)
	... 15 more
2011-03-10 18:04:44 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@583e0ebb: startup date [Thu Mar 10 18:04:44 GMT 2011]; root of context hierarchy
2011-03-10 18:04:45 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:04:45 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:04:45 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:04:45 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:04:45 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:04:45 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:04:45 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:04:45 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:04:45 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:04:45 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@7eb1cc87: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:04:47 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:04:49 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
org.apache.cxf.binding.soap.SoapFault: Security processing failed.
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:272)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:50)
Caused by: org.apache.ws.security.WSSecurityException: Error during encryption: ; nested exception is: 
	org.apache.ws.security.WSSecurityException: An unsupported signature or encryption algorithm was used (unsupported key transport encryption algorithm: No such algorithm: http://www.w3.org/2000/09/xmldsig#dsa-sha1); nested exception is: 
	java.security.NoSuchAlgorithmException: Cannot find any provider supporting SHA1withDSA
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:77)
	at org.apache.ws.security.handler.WSHandler.doSenderAction(WSHandler.java:205)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor.access$200(WSS4JOutInterceptor.java:50)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:257)
	... 9 more
Caused by: org.apache.ws.security.WSSecurityException: An unsupported signature or encryption algorithm was used (unsupported key transport encryption algorithm: No such algorithm: http://www.w3.org/2000/09/xmldsig#dsa-sha1); nested exception is: 
	java.security.NoSuchAlgorithmException: Cannot find any provider supporting SHA1withDSA
	at org.apache.ws.security.util.WSSecurityUtil.getCipherInstance(WSSecurityUtil.java:785)
	at org.apache.ws.security.message.WSSecEncryptedKey.prepareInternal(WSSecEncryptedKey.java:195)
	at org.apache.ws.security.message.WSSecEncrypt.prepare(WSSecEncrypt.java:259)
	at org.apache.ws.security.message.WSSecEncrypt.build(WSSecEncrypt.java:293)
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:75)
	... 12 more
Caused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting SHA1withDSA
	at javax.crypto.Cipher.getInstance(DashoA13*..)
	at org.apache.ws.security.util.WSSecurityUtil.getCipherInstance(WSSecurityUtil.java:777)
	... 16 more
2011-03-10 18:12:04 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2b20bf2c: startup date [Thu Mar 10 18:12:04 GMT 2011]; root of context hierarchy
2011-03-10 18:12:04 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:12:04 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:12:04 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:12:04 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:12:04 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:12:04 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:12:04 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:12:04 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:12:04 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:12:04 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@7eb1cc87: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:12:06 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:12:08 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
org.apache.cxf.binding.soap.SoapFault: Security processing failed.
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:272)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:50)
Caused by: org.apache.ws.security.WSSecurityException: Error during encryption: ; nested exception is: 
	org.apache.ws.security.WSSecurityException: An unsupported signature or encryption algorithm was used (unsupported key transport encryption algorithm: No such algorithm: http://www.w3.org/2000/09/xmldsig#dsa-sha1); nested exception is: 
	java.security.NoSuchAlgorithmException: Cannot find any provider supporting SHA1withDSA
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:77)
	at org.apache.ws.security.handler.WSHandler.doSenderAction(WSHandler.java:205)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor.access$200(WSS4JOutInterceptor.java:50)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:257)
	... 9 more
Caused by: org.apache.ws.security.WSSecurityException: An unsupported signature or encryption algorithm was used (unsupported key transport encryption algorithm: No such algorithm: http://www.w3.org/2000/09/xmldsig#dsa-sha1); nested exception is: 
	java.security.NoSuchAlgorithmException: Cannot find any provider supporting SHA1withDSA
	at org.apache.ws.security.util.WSSecurityUtil.getCipherInstance(WSSecurityUtil.java:785)
	at org.apache.ws.security.message.WSSecEncryptedKey.prepareInternal(WSSecEncryptedKey.java:195)
	at org.apache.ws.security.message.WSSecEncrypt.prepare(WSSecEncrypt.java:259)
	at org.apache.ws.security.message.WSSecEncrypt.build(WSSecEncrypt.java:293)
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:75)
	... 12 more
Caused by: java.security.NoSuchAlgorithmException: Cannot find any provider supporting SHA1withDSA
	at javax.crypto.Cipher.getInstance(DashoA13*..)
	at org.apache.ws.security.util.WSSecurityUtil.getCipherInstance(WSSecurityUtil.java:777)
	... 16 more
2011-03-10 18:12:38 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@583e0ebb: startup date [Thu Mar 10 18:12:38 GMT 2011]; root of context hierarchy
2011-03-10 18:12:38 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:12:38 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:12:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:12:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:12:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:12:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:12:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:12:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:12:39 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:12:39 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@4aeaf40c: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:12:40 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:12:43 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-96ED5C6BCAA871DD7E12997807629232"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>hhwjUHvSL1zfK4zmfsYCZN/YXYDJ8szpQZXbQIBHeLEAH/AlQlIidhfSDyQbrxtpeePVBWRbyJyjnPbIDxAwTglkvkMPvUCIGTspSd66w5HfBBSWf8ti8olS+5Mj9SZleuFbg0xEci/aSSQJ8BKq+zX32mlDPDgvldZ5qMoVELk=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-3"/><xenc:DataReference URI="#EncDataId-4"/></xenc:ReferenceList></xenc:EncryptedKey><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-3" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-96ED5C6BCAA871DD7E12997807629232"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>Nw+qrsYPW/RnaKpDhNXcF1N2C9p45HNGffOo963WTIHYKr2+12y8fXlnlze9DR/oHXYANtx34gwm
dZsCtpFZfsPsemvvBlz7o2lRli3fN6ZEq5FWVE2A92t7L+fMOIua12R7vgJJx6fs22w2wv5x2JAM
+veyfxg1dt513jvgHf8r7rnBQy8vSa39D76wYn5jZHuOp50q5fupMlKPxIhzdkcWsD+Ql2tIdUrn
QGs0juhVwJzvnnwOcdHMKNkHtJyrSWvQXplOEvJJ2DPq+ERDW+hWCxTHRYoPCG4au0vqReQARK6e
uVwkY7q464Xb0MiS5+tXBsWyguJFsX3yMCjE7oYX986dnDPQA8ZCNHQiPuiIbhcMiymdkzh0jahy
d6wlZQaFaEXwd42euUbLBtjaHuUyc7C31eT8ewb0EYOFUucod7Q2I0LXyigWqhKbWVw4tPzxNS6K
qsQkEsFbGEia1VwtSFruni1qxua9I1tZ/Vr0BGAkcC21SLg4whJ+PvI2FLBhUgHG1JXO4+PbX4DY
XuGvM+Ei/1dR4do9Ji0B1qneH9N8ljFIHTdIMMD+k8pfGdOxN9J/75ZijUebrr2Ygpeqbo895cto
oam9P0aR8tI=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">RmBRdgJvSLgob7XchuEI2ci/Z50=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">7avwVUY4TPUP+PI8IMkbwQ==</wsse:Nonce><wsu:Created>2011-03-10T18:12:42.335Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-4" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-96ED5C6BCAA871DD7E12997807629232"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>dasIWqpgXBScpMN2sAI1HyfCcTRCeA5sdlnqdjrwtWKMBceT4unWhM9aWanmtITedi/1XwoL841F
GSweWPJvMkuhm9Fjyf5FhOQT8s8nDOUpWhAH9zx50PTkjQGolWdcg5NPBeSclZ7SgAK96QfP71gl
bXWzaI37LJFhZ7ABj00J1cCFyhRe1STG1fcLlW/h07fBaFnhyPYCz70BbonV63chqTp1sOh8kFai
wtvBwZJfMwt7XsKQnJHkFG2Vr75AWvjSj9WBAz6uhFPlS1rTaA==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:12:43 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 500
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[285], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><soap:Fault><faultcode>soap:Client</faultcode><faultstring>General security error (WSSecurityEngine: No crypto property file supplied for decryption)</faultstring></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:27:55 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@72e6f7d2: startup date [Thu Mar 10 18:27:55 GMT 2011]; root of context hierarchy
2011-03-10 18:27:56 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:27:56 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:27:56 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:27:56 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:27:56 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:27:56 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:27:56 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:27:56 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:27:56 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:27:56 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@6983d95: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:27:57 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:28:00 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-9B23E1D8C40D9B1F1612997816800602"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>oeeMifTquRLK7C/PIMhVIFrmRqe8Iu8DzdaJvFNPFU+8a1ZuhvyGFDtDeWfhI18+W/Clg5puIiNi7o/WkLr12tcy0yM+/170mkXOKjQFABBpcJq7IjMcFcpG5xfrCoWeJlXJhRnc0CBr6GgZ4svbVl13BrhrVVU8oo7GTEZ2HPw=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-3"/><xenc:DataReference URI="#EncDataId-4"/></xenc:ReferenceList></xenc:EncryptedKey><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-3" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-9B23E1D8C40D9B1F1612997816800602"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>seujoxq0jkaapkq4gsWehs1oyRHIqiavil8GTd3ncjk90yeH2+Sj/xee0vJkg1lgAR+UbUkBnKKY
nH9NMBlfdyOgl32E228aOsBr5eTy9kD0g06VMgAxTsblOiWkzR3aKAXh1MZCLmMo2Ki2p3nzk5rP
9GbKxrdlkA1Timcyh+jHGgKtdtbCasXAX4SYZGrtNVRQ3Bb1XcubWABjLNy8ueo6p2Lq5wzlrPvK
9QGIgCi+uPoV/fPSySh/HQJ2gPFN18XZsAQiJ+Dv22TnHC2A9Fr+7dedc/QwOPXWu173w1FSUfyo
vN0dKcdI1D+zSsI2a7+m9vjTPn0KWhLfkdKy9jBn3VHH96NeKx+7hKalSTVPRArgNfB1pyQROnWj
9i+IUtIFExZl28ZXVRDVJFx1YjUp77FQ2xfx3QYaH0huET7tkmthQ/SuX5F9G6eI2obBLdCNPLnT
8O5n9S30fuC2WdXsMD69NettkJLdUiJSg68BDnWMhmwI58Q/4Dmz+KBZ1ts96xxh0yDDQ+KrEmUd
MRuociWYcgzaCNoHEkZ5EBMUYMCzgLzPD4yG2WFLLJRbA33DuSdJz4aTnZfE1snA/46jXTev+mCm
iaAfITGMj/I=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">J+8Fhyhb+gmK70/ToSKX+CKtnk4=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">PRbXT3v4GsKyM+809BVC1g==</wsse:Nonce><wsu:Created>2011-03-10T18:27:59.472Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-4" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-9B23E1D8C40D9B1F1612997816800602"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>umv2ldmhBeMEPR6vsi7/cxdmEABDSAeEXmmf0Uh+2ZyX9+D8zwOYyf2bnX2DlPxc+8iCTxMO+PWL
IuwEfNuYkhQO7dkADGp9I4w4S1kst/WkIJ2IdA1aPzBXYQs9AKmEaj2CryE9SJxbaPr5eKFFyCf/
Jd2tuN15mfjlAN+EghCZev7nubpd0m6pwYGDAhqdoEDrs/morw+bfWJJyDJIPonFph7RETMQusxE
fZmvJGiJSc20R+bhBSqiEc7RWafuiEZP+f3C2m2cUInDE1Ok9A==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:28:00 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 500
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[266], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><soap:Fault><faultcode>soap:Server</faultcode><faultstring>CryptoFactory: Cannot load properties: etc/server-decription.properties</faultstring></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:29:40 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2b20bf2c: startup date [Thu Mar 10 18:29:40 GMT 2011]; root of context hierarchy
2011-03-10 18:29:40 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:29:40 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:29:40 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:29:40 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:29:40 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:29:40 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:29:40 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:29:40 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:29:40 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:29:41 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@7eb1cc87: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:29:42 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:29:44 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-D9CD8254DF0AC9821612997817846902"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>YxuIdQYHPc7nkINxXgM/iuocg9ovcXof1Dd0h/i/Th8XhR27QNzg7ChP/YBrH9TPD42sDL8c35S1svpo6hiLgUGYZ8wa6ntargK8qpb16jlLdScoepcVutyj513fG64SDdjP7v7XyHCvvR+mzVMrhhtDveWEW9URTwZdHSA8CoQ=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-3"/><xenc:DataReference URI="#EncDataId-4"/></xenc:ReferenceList></xenc:EncryptedKey><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-3" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-D9CD8254DF0AC9821612997817846902"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>RQJQ0ldq5FwxPCgu2XE3HAlDD9JmR18+4eLKWIu4W71Xxr5EjTCFgkaKZCtFRTKT2Q2nxIQACX/G
kqhpS7SBvTYbPuzztN8lSM4Yjdeo+fWLd/mHJBRT7tPcQPmVc8ZR0B7f4Nr0ILoJpugxw7xmGg1M
aly/P7oN7ttzHXOFeojpFm+e+uJII+K1hZmNURCblTOuUWABsJ7EEbbEzrZgEiDJyccAjLTahWfn
wa52SlRZ09gj0eIisqaX3bg7vnNAhtWMoNK3q+Z6ZxBmxY99wMkB+QIuBQUnFq5mzCX11KcF+329
l+CLQ6kqrOt6v2HydbdXTysvDN23PgKaNrMpiDMCWXnW/ob2nYAzB8Gexln9doJXcN8ImKS0riZW
46MiHhmd74Xk6GVoVG6yCSHYt0rSi4NVDApPeWCpEhC8Wqx5m83XjfL1vltCvnTin9hWbPa7sWMn
WQvrRA2s80PvgG6FMWw3A0GaWCn2L85BAU10cxyNdkYV763gVeHnlumPl0zlXUAhHlUAKKmzoZ6a
Z1LkknVkmzhKsIZLtMqigG7ymDDjoweUTqUmJ+R2ObHz1d/1pVqh3yQjUmVh4FY8K5YJ2UUFBi9V
Std8qXioKyE=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">EFZxdptO5C3r/Qj/+XcnbwZELmY=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">aBefF0MXlQzN9XneFbnObw==</wsse:Nonce><wsu:Created>2011-03-10T18:29:44.101Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-4" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-D9CD8254DF0AC9821612997817846902"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>nKb10VM5umoTa0Zoe20sVGD2HX3+aAQxp2yDTEixp+ExGW9GYoz7S7u3yQHleFBkTus5lIjAXvQb
hDVl4zAiBdmiPWouwyROXtgdfWIXwnK3O8dMxAKGLRbkos8zfCKq6WVjoCd0WAmYfzTvk9NwejwK
cotu4/VJ7bwZSkUj603+k5dCNJVOqMWtaIB4asvnJevyis4qOUKuzZQC2dtOc3LsJ4U22wMWwdK5
FFAQevIG3WJ1v95dwSkMI/VTFp0/cWvbj1qR1DCicyQr/DeU8A==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:29:45 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 500
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[324], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><soap:Fault><faultcode>soap:Client</faultcode><faultstring>General security error (WSSecurityEngine: Callback supplied no password for: samwise); nested exception is: 
	java.io.IOException</faultstring></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:33:21 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@72e6f7d2: startup date [Thu Mar 10 18:33:21 GMT 2011]; root of context hierarchy
2011-03-10 18:33:21 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:33:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:33:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:33:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:33:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:33:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:33:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:33:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:33:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:33:21 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@6983d95: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:33:23 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:33:25 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-E31CDF8A3303BEB14412997820053942"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>nVFB1oy1qSXlw0x7z682BeaMJfxoT6GskQAE3jGrH2fFHCXbzykFEThvjGPta+NrGxFJnOHkYy+jgOgNB+lAfCrPyDf8DmbbJUN4d/aLRTSDGv2/cLQajF9aPR8nmqThZHoQAFfxISt/eUWGxHl5MvvnBQfAcQCfN4sbWIurAng=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-3"/><xenc:DataReference URI="#EncDataId-4"/></xenc:ReferenceList></xenc:EncryptedKey><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-3" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-E31CDF8A3303BEB14412997820053942"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>TzQ0odNowIqlbajsl43B3veeAF7C+sGhL3as8rkaphByo0ZExvvBjP/AOrASxIWNEdT7IY1ZuWFA
2CBUSpABdb7Wq8PYZmYMfpnaLHz26Az8yDF/tnJZ4GyYkO7xsgEeNAyVV4+NtQfUbPc0oifOckjo
cXX4UA1jTfJu5S122pXXFDOKchNuSZnURYB0aGqTFt5gA7kHveT2EmiC6jM1jfIyVX8rhGQVSxHJ
I2qXPC4XFH5MKa3IiVI8gpOL25I5/C5gf3QxKobg0FOj8Lk6ZinswADdzJLt5cURKlAqrNNSNvy1
KFs9RTLOJsE5cz2q6nnfF5rOFSvW1vJEgKslW5DWXsXTKIF+DdUsX3BbqogT77jaDdC/0XQegNTO
zUh3foFMkATJBybGccxWP+eAsfwdGDd30x4oTACu6Lxtw4nKdwW6RhU41g94g4n58oglCIZfw5L3
DXB0ZCOrOMVnqwmSWxhgHLSa6bG2jJ4dWHbDsopUTxRbeT7YWQv683QvaMVFMLqs5ZIa4shNsta0
80rCuRmmzuT+0aAReeIBPJ/6Q4OoWq2Dwm1932Ax5p3SqMmB6KJPNJMoimNz4Pazd85+Hq3An7mS
Rtihbs6hcTQ=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">3nfEmsqB6lyvm+sSpTpZWSFxSjo=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">XDEI9iX3w1uC4guPf4dyAQ==</wsse:Nonce><wsu:Created>2011-03-10T18:33:24.808Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-4" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-E31CDF8A3303BEB14412997820053942"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>hj0AtuUZByaXFjVtjO0nuvTO1333S+4oj0GHWygVaiY5Ku8CAqKhIyMMYWUVouAhvhrw3iDtq0WG
QsCd9MBFO/s9xhDzA5eoBfYYa6NGWP7KsqbdGOn4pL08HMFGC2Fh73lCbDh190oeSCyLM5T4ulgR
FASqwkDoPYWLqCTvZ1UVV5iHg7xug8tle/NqLVS0T3fBFW5A80Opq5RcWip59ZR9U0YF08khMR9p
J+HnQDTw7ySDYdx3z3ZaJ9eQuI+Ti6RN5ByLmj0PrGbKXAosQw==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:33:25 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[431], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ns2:lookupCustomerResponse xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><ret><ns3:firstName>Ade</ns3:firstName><ns3:lastName>Trenaman</ns3:lastName><ns3:phoneNumber>+353-1-01234567</ns3:phoneNumber><ns3:id>007</ns3:id></ret></ns2:lookupCustomerResponse></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:35:21 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2b20bf2c: startup date [Thu Mar 10 18:35:21 GMT 2011]; root of context hierarchy
2011-03-10 18:35:21 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:35:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:35:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:35:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:35:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:35:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:35:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:35:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:35:21 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:35:21 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@6983d95: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:35:22 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:35:25 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-55593825B42B86CB3D12997821253962"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>JLSRshXtSKwNbZGtOrrHvSZJdUgIsznknAghx2bZBw4Ar55Atr0dnpxfjxNA5udQeroN/csNs4fi7JNmSP0Y/XoForuV9w1bjens4+lC34AaVMe++QUs3urC8wqHE7IWK4ZCV7VrNNB/LJs2f+krGZzNnCgyWKFOw0s3XUVCy2M=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-3"/><xenc:DataReference URI="#EncDataId-4"/></xenc:ReferenceList></xenc:EncryptedKey><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-3" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-55593825B42B86CB3D12997821253962"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>bfege75GPtiKvmVVFheeD3lY3O8E+Pr0btEwLV3g7Js2IoS7oT+DCiojGMoZh97R9giQ1uVX8biY
KykKCNhgck/FIaerzIDx2DFmEUOH3Rh6uEUrBH4enNBPWoUQkwv45YEInoY4BEYRkrGMlnw1dGPf
gAX2evlpqMM6Ski+pS8ElBg1tY8nZ+W3J73jAMDEB+XPb7XkmYxA4+oMHuJKKc2fW5BlF+2AuBg0
Gc22rSaSoLa0Moc7BBntpGUP2aK0meaGNOEQvFocL2Jd6oHlWOxZwRK+yOQEJdJowOA8SPmzLHR3
J6B497/r/vcOv9vGbgj4qywlqysUyjVUcypIFQL7LCZ3su29oHKdMJkUUzM0hFDK8AjIPKxs3mBl
9M+9XSnpzsY4IoAtlS3gYWHEQJXYeRRVer1zj+vfubRMuqedj6+A86BXAepj/AzSDLaUqAbgrei/
rgPLR9HjzcyGSWM9YC3ZRUJgcCvdpRU3xPHZpKNU7cxood2rExhVVvOigflL324jqVHKH0OLDNfT
VFsNnzB5ef1D4TXLw6hyW7t/yfBQDMnmCGKQXA+P3YqT7QViTNeg1GjEpIn/DvpDoWQ5hOLOgGi9
e8H0D0u1JsQ=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">eupF6DtWyvK8GVoekwrddCslF9k=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">W47+92dYiV62iQ4GmJVRgQ==</wsse:Nonce><wsu:Created>2011-03-10T18:35:24.719Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-4" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-55593825B42B86CB3D12997821253962"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>ghA2ZhOh9O/NhCO1cBYiBkH0oTN1zejzlZz0gKK+RZS1j1GX46FpMi4AZjim5zHDNMeFst6xcskt
537Sm22f6iDHDL86YN+i11cGbRzM+QNbiQupsR8+0yN2fwexTNHZ3Rjcxz4fejqpxIycZee4hvxP
JDQrhmSB4zF80Dw8hFKEtFGH61bKIhLhAN04feFD30PhgAlkM2ptHQB2QmDZwbj52WDmM3Gx7gii
wbXijJZp2F7w40PFofCijjb+WVG6CkyMAUQNan4ExDe5Ofe3UA==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:35:25 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[431], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ns2:lookupCustomerResponse xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><ret><ns3:firstName>Ade</ns3:firstName><ns3:lastName>Trenaman</ns3:lastName><ns3:phoneNumber>+353-1-01234567</ns3:phoneNumber><ns3:id>007</ns3:id></ret></ns2:lookupCustomerResponse></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:37:41 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2dafae45: startup date [Thu Mar 10 18:37:41 GMT 2011]; root of context hierarchy
2011-03-10 18:37:42 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:37:42 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:37:42 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:37:42 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:37:42 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:37:42 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:37:42 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:37:42 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:37:42 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:37:42 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@4aeaf40c: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:37:43 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:37:46 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-29437B23347D1EF5A312997822660642"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>SZHFZTZiV8binXTlnS1rKn+ZdcMP/6dF+S2ooNWqtO4cwgO2Csj9PSEe3fcR+Lz4s14UsJXGN8KwiR6GRqQTTRG25oguTG7ITaxMJQRDzdUaGl4gQteBfFjl0vwBg89Ct21AElZbUkaIqbRo0fxX+0OVqfcyi1PjiB6cbWVBI0c=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-2"/><xenc:DataReference URI="#EncDataId-3"/></xenc:ReferenceList></xenc:EncryptedKey><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-2" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-29437B23347D1EF5A312997822660642"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>Ln2EBf8uvibZpYFYmKok0z3yBbix1uWN3alaMCbgiXpawyWwlCPGtF+BC1JdYiA9j1adZVG2kv/Y
h1idlg3f3+zQsZ7tPHVHq1aXPWa64lESKdq8bml1V0Vz0TU9qQAOe7TyBGcXDsFSYtASNqQo6QVI
xeaCwKhR+q+RLT8cCRPE9ngGG0+EChcVomsw+YJGiXWKzmOKrGu6V4p9le0JM0bnioKRRC037tt6
zE6NFsG5gAL7CNPgsV1QeDXfNN+hsvLFlTdSxvoB+LhXWlBkgIBLvkvys7O7iR9EQi9bbwblPUv2
wd+tfst7JDuRNmdRb/d3Q4ESxCSmIis880vVLS/LNHccMSdDHStDWNcSlbNDhLZuhd3Ix5Ek82Lx
JV93tJwa3/VHoEVP0kHoFo0Cn5M++FTL5zoK7gjoqjBU2iJl12RxxGAyxrRXlHC8P3hNAOqZu9gG
0xyMOzBWYXZKQ0XfGAi9rl5f5vdKzz+Ykovbz+7VxAw8Syh4Z8wZCD9+AolJPhlMzOY9I82mbNrL
7fWbD8RcRoBAmByAZskdWymddR84pM30V9wYditBZDYG36UoWWSAE0Dp5AUxLYRa2wj81qf/av4N
/WXsQ7jIr8g=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></wsse:Security></soap:Header><soap:Body><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-3" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-29437B23347D1EF5A312997822660642"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>Pu7BjhC0s54Y7IV64plwQacI5zKTslgbdF0+q6P9kA6IVKPC5nSSW3kbxkvnFFjAnRfl8IufMgnx
tTvYknrFwBXi7pY/cbNPEY6ecXOLsGkJJs/x3dMHmd0/PLFysmZQhiliQItDc3KtoDRUDiyu52wN
EZ+f2pOEW/Ny1B6s0ESyFPD1bGbGADYyWuxU7lGhmpnDWPj9Hep1IUy1F+tcSpH/AtGP0SsvMIUn
v4cMPB6bWUxZbPS1zBYiTlyIGUc7YeSteJvuNN5NflJ2sgJB6A==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:37:46 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[431], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ns2:lookupCustomerResponse xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><ret><ns3:firstName>Ade</ns3:firstName><ns3:lastName>Trenaman</ns3:lastName><ns3:phoneNumber>+353-1-01234567</ns3:phoneNumber><ns3:id>007</ns3:id></ret></ns2:lookupCustomerResponse></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:40:38 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@5239443f: startup date [Thu Mar 10 18:40:38 GMT 2011]; root of context hierarchy
2011-03-10 18:40:38 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:40:38 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:40:38 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:40:38 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:40:38 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:40:38 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:40:38 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:40:38 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:40:38 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:40:38 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@7eb1cc87: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:40:39 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:40:42 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
java.lang.NullPointerException
	at org.apache.ws.security.message.WSSecEncrypt.prepare(WSSecEncrypt.java:249)
	at org.apache.ws.security.message.WSSecEncrypt.build(WSSecEncrypt.java:293)
	at org.apache.ws.security.action.EncryptionAction.execute(EncryptionAction.java:75)
	at org.apache.ws.security.handler.WSHandler.doSenderAction(WSHandler.java:205)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor.access$200(WSS4JOutInterceptor.java:50)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:257)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:51)
2011-03-10 18:56:02 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@199836ed: startup date [Thu Mar 10 18:56:02 GMT 2011]; root of context hierarchy
2011-03-10 18:56:02 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:56:02 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:56:03 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:56:03 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:56:03 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:56:03 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:56:03 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:56:03 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:56:03 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:56:03 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@74f30494: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:56:04 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:56:07 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-D86E58F5947605214D12997833673012"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>bgkFWRNb9lwRWh1UY5qfqCiDzPMmxM5yzrH2KVH+gSwRjPm3EjOMMd0mEg8Mxq1TT3GIOB/NnVWicDO9bJE3uaYQgNpcFaNUrM6FcUbQebukj9JlvGon3b7WH8Y9+mdwZRiXCLGCOfd135SXjn4ivkVaKKsZ0RTvoIRYogcwqf8=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-2"/><xenc:DataReference URI="#EncDataId-3"/></xenc:ReferenceList></xenc:EncryptedKey><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-2" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-D86E58F5947605214D12997833673012"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>yaq44TAXl+FD/JbZ0r5Rq7mwStYM+3kGFZzzS1vLW5J5KhUnJh/d+v/WH0RvhmEA2VyORB8yg1hy
rY8QYDgQQ7KkEE3GtHJ03pE3H5Jj1R2kmSk03NBBZjoNEgbQ9tYDtHjG+H6XG8+7gJNOragKQaqM
JicA19sN+Se+hfzmIDkFsIl9KPY5t/7VsccoWrKpAHuu40048rWlTBx7r/TDStRGXeFR5eAe/J0b
CeqskWLtXE0Wri85kaj992ykkNhFzibPhrRX7mtsdspOYn+oNFiyXb6bhLnsZCOJe7k+2pFQ5Avz
thSvyccATqnw1HGprGMItZzK6UbK9ND6tqKMxNgX2kH39IMpjtkUY28MgwK9VVxYvB1rnzwVhe0S
J+Nf6iSEzAJ4s/7J2/6YeeYDw9WkNYBvROVo6V75X66PZdZ+JEdNL7FPXL/LzxtncHuIHpZNPd8d
ZaO/hQ2rF+AhXhD/Z9MAhpZQ/DgJyZg8OxTp3UNICMEQdKEp7bQ3a0hnn/29n7VpH/IqQYvUpvsv
D3IiAFpB+AE0FgGy5+KuNyPagzoa0Gc6OHH8WjNpRjyemRa3ocRkRZV4GVgogizfeCRD6yZ6Njw8
SzEDHXXBS+4=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></wsse:Security></soap:Header><soap:Body><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-3" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-D86E58F5947605214D12997833673012"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>dvvJThE3qMDWsGOLMZqJOiEr5sUHEw5XPERr/MM0eLCJ9QU/KUDgKKfZBYjVQ6y5l0qEaORstb4K
/mrL2SKbYRBAkYZFzkBGhZYCDAOReUeL6hpiOzvcVfWPLE/rSl8sV0YFBreLUeOJUXe3FhwzTJRL
Tn7P61w7pt5eREhUG+VR1zrAtuVT3fA/tpiJ3Ea3pLyYNRYg7QTpGaSD658r1FhzTUsuJwHqZ14R
wHdc7sBZUco1I7WXzVvj41GKRchjEULVXQtEeXK2C31FkevnKA==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:56:07 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[431], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ns2:lookupCustomerResponse xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><ret><ns3:firstName>Ade</ns3:firstName><ns3:lastName>Trenaman</ns3:lastName><ns3:phoneNumber>+353-1-01234567</ns3:phoneNumber><ns3:id>007</ns3:id></ret></ns2:lookupCustomerResponse></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 18:56:37 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@199836ed: startup date [Thu Mar 10 18:56:37 GMT 2011]; root of context hierarchy
2011-03-10 18:56:37 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 18:56:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 18:56:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 18:56:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 18:56:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 18:56:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 18:56:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 18:56:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 18:56:37 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 18:56:37 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@74f30494: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 18:56:39 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 18:56:40 PhaseInterceptorChain [WARN] Interceptor for {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService#{http://demo.fusesource.com/wsdl/CustomerService/}lookupCustomer has thrown exception, unwinding now
org.apache.cxf.binding.soap.SoapFault: Security processing failed.
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:272)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:134)
	at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:255)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:516)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:313)
	at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:265)
	at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:73)
	at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:124)
	at $Proxy25.lookupCustomer(Unknown Source)
	at com.fusesource.customer.ws.SampleClient.main(SampleClient.java:57)
Caused by: org.apache.ws.security.WSSecurityException: Error during Signature: ; nested exception is: 
	org.apache.ws.security.WSSecurityException: Signature creation failed; nested exception is: 
	java.security.UnrecoverableKeyException: Cannot recover key
	at org.apache.ws.security.action.SignatureAction.execute(SignatureAction.java:67)
	at org.apache.ws.security.handler.WSHandler.doSenderAction(WSHandler.java:205)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor.access$200(WSS4JOutInterceptor.java:50)
	at org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor$WSS4JOutInterceptorInternal.handleMessage(WSS4JOutInterceptor.java:257)
	... 9 more
Caused by: org.apache.ws.security.WSSecurityException: Signature creation failed; nested exception is: 
	java.security.UnrecoverableKeyException: Cannot recover key
	at org.apache.ws.security.message.WSSecSignature.computeSignature(WSSecSignature.java:726)
	at org.apache.ws.security.message.WSSecSignature.build(WSSecSignature.java:785)
	at org.apache.ws.security.action.SignatureAction.execute(SignatureAction.java:64)
	... 12 more
Caused by: java.security.UnrecoverableKeyException: Cannot recover key
	at sun.security.provider.KeyProtector.recover(KeyProtector.java:311)
	at sun.security.provider.JavaKeyStore.engineGetKey(JavaKeyStore.java:121)
	at sun.security.provider.JavaKeyStore$JKS.engineGetKey(JavaKeyStore.java:38)
	at java.security.KeyStore.getKey(KeyStore.java:763)
	at org.apache.ws.security.components.crypto.CryptoBase.getPrivateKey(CryptoBase.java:219)
	at org.apache.ws.security.message.WSSecSignature.computeSignature(WSSecSignature.java:718)
	... 14 more
2011-03-10 19:00:08 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2dafae45: startup date [Thu Mar 10 19:00:08 GMT 2011]; root of context hierarchy
2011-03-10 19:00:08 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 19:00:08 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 19:00:08 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 19:00:08 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 19:00:08 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 19:00:08 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 19:00:08 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 19:00:08 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 19:00:08 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 19:00:09 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@73c6641: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 19:00:10 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 19:00:12 ClientSidePasswordCallback [INFO] Setting password for user adrian.trenaman existing password is 'null'
2011-03-10 19:00:12 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-FBEA422F35F72B02D312997836128575"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>LGVuotolM3PndX9ouoGwRYe9yIDvPt4CRMN4xAMTQDS/30ELfX9EVCnHr++tpTJUWcHxrDAtb4j7oZTZJdzDUZnZ+kmpUjrtwdWf0gH1ucQjF8+ZYOEUYbls5k/GI0wpzro5IAFpAEslq8tBR9zOa82yvPde/5puIeYPJU8xkDE=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-4"/><xenc:DataReference URI="#EncDataId-5"/></xenc:ReferenceList></xenc:EncryptedKey><wsse:BinarySecurityToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3" wsu:Id="CertId-FBEA422F35F72B02D312997836121451">MIICtTCCAh6gAwIBAgIBAjANBgkqhkiG9w0BAQUFADBgMQswCQYDVQQGEwJJRTERMA8GA1UECBMITGVpbnN0ZXIxDzANBgNVBAcTBkR1YmxpbjETMBEGA1UEChMKRnVzZVNvdXJjZTELMAkGA1UECxMCUFMxCzAJBgNVBAMTAkNBMB4XDTExMDMxMDE4NTMzOVoXDTEyMDMwOTE4NTMzOVowZDELMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMRMwEQYDVQQKEwpGdXNlU291cmNlMRMwEQYDVQQLEwpQcm9kdWN0aW9uMRgwFgYDVQQDEw9BZHJpYW4gVHJlbmFtYW4wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALMW3GmS6Co6NZmXZ8voUM2Oik8t6/d1P4+mKSPRfRzXZUh91e4xTbuKbsqgLDz6vZNB5A3NRC6nNuKmCkMfpZYLuF1ptjSbjeIAsUezYyUm/paEWEAYwmmT550VxVnJ412SC7Mk3g797dN+VHVZEU4Ha5oYmhx0oDMRDzaT/dBXAgMBAAGjezB5MAkGA1UdEwQCMAAwLAYJYIZIAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBSvnNG8nejCIQrToGDSHcXQLcfSPTAfBgNVHSMEGDAWgBRFCwR7zJrKAdQsyLIdzzVHKMbtejANBgkqhkiG9w0BAQUFAAOBgQCrAyMEOOWgCRuWnndULiIL+YwZTlUcyMhjv34Sn/Jr9MY5ASHCwdISZ0LY+VCnHE9zfU6puQO5FICcFUFF1kDG/reROB7SJrxldkJG/B8hFJu/GJu+iChSszo3EX+K0vyrr/DdFvl/r/1pKmwUtKvAPMs5HXVbEHnIP1XLMJqxFA==</wsse:BinarySecurityToken><ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="Signature-2">
<ds:SignedInfo>
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
<ds:Reference URI="#Timestamp-1">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>2n/pHCj9nz4LSgsMErDyS6QNmkM=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#id-3">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>dDm+uaXhsqskOavrmhrrFfS/fdU=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>
<ds:SignatureValue>
LM6gh7NVtJlrVjINgD5fssnxCgwpXsenwU/1sfK85CGMYg3iXRPMmLwgF2IHPrtyL6OIzaldAlLn
768DZOFXPOB9c6px1dbag7216Qhy8jwHI0YFSRM5rCzO2wm3ous3LLsFO83WtE2ayipbPq37gDjQ
mxGSwFmqARP8rMTXT7s=
</ds:SignatureValue>
<ds:KeyInfo Id="KeyId-FBEA422F35F72B02D312997836121532">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="STRId-FBEA422F35F72B02D312997836121543"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#CertId-FBEA422F35F72B02D312997836121451" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3"/></wsse:SecurityTokenReference>
</ds:KeyInfo>
</ds:Signature><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-4" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-FBEA422F35F72B02D312997836128575"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>/z3t94hAHHWpWONbdHi7D9/N0NJjHjS9r7tx493Bx463/KyI2a7p1gTRMd46plvrYE0X2l6AZuyd
ckA8Jq+p5AsKZds0s1XIqy457NSRQy8nMJjCowFu2UqGSkc6jy07YPsaE7ejcZ2T5jyrz8J1RfCw
z7PxyxCwE8VFmw18KIZraYjTmLeFCoUHxKT3y9h2T9OAMH3vyXfmeroduSxutgICvzGsFd3zlhox
rJJkYfBi7RO5rYeeN6WF8tGUXohuy0cIV/TI/cBvXuV1jAn2qaAZLKNHqvk0+3FzCcP5OaRant7r
s6Jc5g0FKHRLBVLk+WsmWCCGXPxLJ5mF+49mY38RnmluQiIFm1EduhIWLxYR8r3jKfgwssWNISvm
vVOMuFvF6/WcrSogjygMgeBQFunqhgBIe3Nfn4LFIoVUNExAbnCtBX9fBZ2+Jy81jxN9JkiD9XRD
Jk2bviyY+HSjAUOl3ja4U9y9gYLnjkbs/FdY4io8zX3xPC0E1FH4uIBEMKQs9maknnSVnBUKEU6I
2ASp8riGkYQgpmQ6bogmhb5y5c9wbV7YrHIwIjTPBTnoWDFFHR3c7UlMIPvmN03VG8FyqvuT0LKD
vdzB0sohjI0=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></wsse:Security></soap:Header><soap:Body xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="id-3"><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-5" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-FBEA422F35F72B02D312997836128575"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>IOFTRa+IwHxZbKtyPeTUG5q7cIr6svREWKFa91rPYELP2oFKp+iNNal4CbxSc8G2tK3my5Lc7uee
Ukb6YTZZVT0U77q8frVGnozxmgagxM4o9Lfquvkbqqa/1+PwjzzAiPXdJegQRtNznCFZd2aSBz/C
62M2zi7Zfc5WUrsXC0sAwUPEeb7XS/ZxzHu8FAH8uhpCGuW+t1+IxMbg8QRFp3R0XA+wtOrzxhUC
TN5k4ZfKLi6/xR5L8ED0RzRDpSb5K+W+b8tfsBfgb+NkRddORQ==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:00:13 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 500
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[227], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><soap:Fault><faultcode>soap:Server</faultcode><faultstring>Fault occurred while processing.</faultstring></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:07:32 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@199836ed: startup date [Thu Mar 10 19:07:32 GMT 2011]; root of context hierarchy
2011-03-10 19:07:33 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 19:07:33 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 19:07:33 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 19:07:33 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 19:07:33 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 19:07:33 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 19:07:33 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 19:07:33 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 19:07:33 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 19:07:33 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@6983d95: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 19:07:34 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 19:07:36 ClientSidePasswordCallback [INFO] Setting password for user adrian.trenaman existing password is 'null'
2011-03-10 19:07:37 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-755570B552F6B8D31D12997840572505"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>D/OywezPuQ7uhqbGlE4hhejOCEKZCTYnrj9pHv+9XtmLQmXiEeMIUbiHBG5MT1wa11qK0MojHnAgfXdHHq9TQQ65ipWTeixs9kPcBnSg4Auh8wOMYXOxASLK99KAmmyCnayZtxeXiDJ5VyqZ7LUbxZa9TwoFNRsq4a4hgENClEw=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-4"/><xenc:DataReference URI="#EncDataId-5"/></xenc:ReferenceList></xenc:EncryptedKey><wsse:BinarySecurityToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3" wsu:Id="CertId-755570B552F6B8D31D12997840564691">MIICtTCCAh6gAwIBAgIBAjANBgkqhkiG9w0BAQUFADBgMQswCQYDVQQGEwJJRTERMA8GA1UECBMITGVpbnN0ZXIxDzANBgNVBAcTBkR1YmxpbjETMBEGA1UEChMKRnVzZVNvdXJjZTELMAkGA1UECxMCUFMxCzAJBgNVBAMTAkNBMB4XDTExMDMxMDE4NTMzOVoXDTEyMDMwOTE4NTMzOVowZDELMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMRMwEQYDVQQKEwpGdXNlU291cmNlMRMwEQYDVQQLEwpQcm9kdWN0aW9uMRgwFgYDVQQDEw9BZHJpYW4gVHJlbmFtYW4wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALMW3GmS6Co6NZmXZ8voUM2Oik8t6/d1P4+mKSPRfRzXZUh91e4xTbuKbsqgLDz6vZNB5A3NRC6nNuKmCkMfpZYLuF1ptjSbjeIAsUezYyUm/paEWEAYwmmT550VxVnJ412SC7Mk3g797dN+VHVZEU4Ha5oYmhx0oDMRDzaT/dBXAgMBAAGjezB5MAkGA1UdEwQCMAAwLAYJYIZIAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBSvnNG8nejCIQrToGDSHcXQLcfSPTAfBgNVHSMEGDAWgBRFCwR7zJrKAdQsyLIdzzVHKMbtejANBgkqhkiG9w0BAQUFAAOBgQCrAyMEOOWgCRuWnndULiIL+YwZTlUcyMhjv34Sn/Jr9MY5ASHCwdISZ0LY+VCnHE9zfU6puQO5FICcFUFF1kDG/reROB7SJrxldkJG/B8hFJu/GJu+iChSszo3EX+K0vyrr/DdFvl/r/1pKmwUtKvAPMs5HXVbEHnIP1XLMJqxFA==</wsse:BinarySecurityToken><ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="Signature-2">
<ds:SignedInfo>
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
<ds:Reference URI="#Timestamp-1">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>u13eukvMlDyFZ02iJQptnky7sa0=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#id-3">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>dDm+uaXhsqskOavrmhrrFfS/fdU=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>
<ds:SignatureValue>
L1dj42M9gHfrSFm6nGKRt8mFNBoW+v8UbJHpnVsh+pCGfY5v30ENtlxwdajp6+fKDmlwCx25SZ7e
Y9pRuon7J6e2/XG704ZYgIjnSWgNcc3eLVsabK/t5RiS0xCEBTWtyggYAyyAgHQtHKNV4WaswwCX
KhPyVO7YOUmDVJZTEmE=
</ds:SignatureValue>
<ds:KeyInfo Id="KeyId-755570B552F6B8D31D12997840564762">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="STRId-755570B552F6B8D31D12997840564773"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#CertId-755570B552F6B8D31D12997840564691" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3"/></wsse:SecurityTokenReference>
</ds:KeyInfo>
</ds:Signature><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-4" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-755570B552F6B8D31D12997840572505"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>R2ZKiAONLd0BFzRVwvthifOsEDr/cwMqcRrnRYmNy22691nXoWNSsYyC4AkyOahJ41e8Ho57/jia
XJ731c4MYpqiuTfglMBMQmy6MW+a2SGifdYKqdfooTXKrr0bNAREmNbVJExLqt20hor0I2swsDtL
tOvNQSVis50YwDdp2W75yNA+n9lKzH2dtrou72GWXzSIJje88A2pU+JhQ1alwy4UHp/RU4wu0f2c
0Cis5hPxziK01mU1u3IRXxj75kZSvWeX/MtHp+QzimICNrdpFK8CS7rRaYemiBLY+bkGGZKuuFmd
YOqf3kpmEbwE11QFEAB58JIOFWOyhK9xMqDptE/uW5bfQWhJCOLdqdY2yA5dRGibdMX/IbKIZgq/
k3XCDjazwNL/wnLgBEWy7rw7MkBC53WUiWLu1++9z0ZydpF5WxpGF/PT0Nbhwv0Pb6g7vtz6VOkH
s/CbbcQefKwOr+Pe+xWwNiyz+5QRKEsC7I29ZCTYBc3ElYnFmRU/FjdMFbLvsO3tnNPnYbicS4li
mDODFC0labuXje3X/liOZ1Ggj2ZJINo7aZ43n3eJ30F7mgQqrQ3WqYQZxhYp7WXdW/hgF4suXM8l
SzP80x+5uls=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></wsse:Security></soap:Header><soap:Body xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="id-3"><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-5" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-755570B552F6B8D31D12997840572505"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>HKfzJS04uVBMU1buSca5lrNEzvgxo1yP2WpJstOXrj0J3VQvCqOQNG3VCvh5Km7D20kwcEfDhrfv
TyscE8SuSQoPvZ7bQutlFC1DpBBvUXHWV8q+BGBmIU2tq3Sy1omaGtzUCA5y0g3N/K/IZYJU5MDM
8IkuA9QRWhYikTSdu/SRsyXP3TcFOfJGnIil9f/dsTwNhK3VVP7YDaxZ0/Ke84d1sH7aIPMfLmkm
BRXXJJPkGkldTBk3050QswovkEfj2kzcdYmTNg3UbumnuSZaug==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:07:37 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 500
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[275], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><soap:Fault><faultcode>soap:Server</faultcode><faultstring>CryptoFactory: Cannot load properties: etc/server-verify-signature.properties</faultstring></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:08:30 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@199836ed: startup date [Thu Mar 10 19:08:30 GMT 2011]; root of context hierarchy
2011-03-10 19:08:30 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 19:08:30 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 19:08:30 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 19:08:30 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 19:08:30 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 19:08:30 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 19:08:31 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 19:08:31 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 19:08:31 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 19:08:31 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@e5d391d: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 19:08:32 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 19:08:34 ClientSidePasswordCallback [INFO] Setting password for user adrian.trenaman existing password is 'null'
2011-03-10 19:08:34 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-21F9EFDF3513BC635312997841149095"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>lOqEbypEo7n6M8qxsRqqB2D43xjU+GuXQ77LqnnehhPlgdKZXRB5rq7fihi5t+zJ3XKdscnPITdCit6ztddtQT7ZkgWeYtd+zwNi9rwDDn8UFWUXzPXSaOuwbvchft+DGtxD5ZWl7lyyuw5YgXMXQwxY1RPJ/U7pX/Br3tdtX4Q=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-4"/><xenc:DataReference URI="#EncDataId-5"/></xenc:ReferenceList></xenc:EncryptedKey><wsse:BinarySecurityToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3" wsu:Id="CertId-21F9EFDF3513BC635312997841142121">MIICtTCCAh6gAwIBAgIBAjANBgkqhkiG9w0BAQUFADBgMQswCQYDVQQGEwJJRTERMA8GA1UECBMITGVpbnN0ZXIxDzANBgNVBAcTBkR1YmxpbjETMBEGA1UEChMKRnVzZVNvdXJjZTELMAkGA1UECxMCUFMxCzAJBgNVBAMTAkNBMB4XDTExMDMxMDE4NTMzOVoXDTEyMDMwOTE4NTMzOVowZDELMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMRMwEQYDVQQKEwpGdXNlU291cmNlMRMwEQYDVQQLEwpQcm9kdWN0aW9uMRgwFgYDVQQDEw9BZHJpYW4gVHJlbmFtYW4wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALMW3GmS6Co6NZmXZ8voUM2Oik8t6/d1P4+mKSPRfRzXZUh91e4xTbuKbsqgLDz6vZNB5A3NRC6nNuKmCkMfpZYLuF1ptjSbjeIAsUezYyUm/paEWEAYwmmT550VxVnJ412SC7Mk3g797dN+VHVZEU4Ha5oYmhx0oDMRDzaT/dBXAgMBAAGjezB5MAkGA1UdEwQCMAAwLAYJYIZIAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBSvnNG8nejCIQrToGDSHcXQLcfSPTAfBgNVHSMEGDAWgBRFCwR7zJrKAdQsyLIdzzVHKMbtejANBgkqhkiG9w0BAQUFAAOBgQCrAyMEOOWgCRuWnndULiIL+YwZTlUcyMhjv34Sn/Jr9MY5ASHCwdISZ0LY+VCnHE9zfU6puQO5FICcFUFF1kDG/reROB7SJrxldkJG/B8hFJu/GJu+iChSszo3EX+K0vyrr/DdFvl/r/1pKmwUtKvAPMs5HXVbEHnIP1XLMJqxFA==</wsse:BinarySecurityToken><ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="Signature-2">
<ds:SignedInfo>
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
<ds:Reference URI="#Timestamp-1">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>w1hhsBb5nJiP72I6qqEBf1vJwPI=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#id-3">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>dDm+uaXhsqskOavrmhrrFfS/fdU=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>
<ds:SignatureValue>
df7v9EPDZqMxSPUY3mCz7o0vX+h5Uy/WBXq7kEz+Og4bE04uo2g+PX9gquUf6y0fn5lpfoFC1Nbk
hd3HF9UuOqrd2FLpolVrwmq3f6XPRaaTOq98Nz9JYEKXjpncbsdNz3Zw3MexrclkBpvIKhptfNw0
RE9e7u1QQIZTFWzdj2U=
</ds:SignatureValue>
<ds:KeyInfo Id="KeyId-21F9EFDF3513BC635312997841142202">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="STRId-21F9EFDF3513BC635312997841142223"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#CertId-21F9EFDF3513BC635312997841142121" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3"/></wsse:SecurityTokenReference>
</ds:KeyInfo>
</ds:Signature><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-4" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-21F9EFDF3513BC635312997841149095"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>0WTYw1suNlcYVzh9TqdxzkEwahgN2f0PUbk6b7lfZqAWvIePdZudz7uS3OCzIw+swdm0K7YZpt+p
Ms45yyoaNVHUAb1EFVFRIind12SC3rn4l3rZvM8uUwOZXvzWJLwuxgwzOJRON33tGfndY0BFf3D0
xpZxQupLX4Q35lhI3GYq3fFlg+TWdvBgfdp7AnOSVr8Kw+rdk8QTfZTOAW2XZp7Hggmo6AQ9GSrh
293GgGZuLH19arh0j9zt78nYR413kNdJjpzePexZMEAyEAzuQ5X6ou4H3Sjuqv+P98EPiP3YrPgy
3i4J8JK0N9Cm6DVwIna3jpBTtbPAhmSycKzncfETtal2hhRBlre2k9GQWseTZIyc3lASj4iKKuM8
AFu53wD5IJB07ykRqv3eQsSU0XWo+dA8CYKdeFnQL5+pdtaXrr/2yd+a1J1w9gQdQvlQex9fu5nO
Nxu9MVCLbWawXgJfY4GPsayGJPylApsjJNdMUfH/ArUX04z0F1kDo/R1o0r3Rr8ovjFRaRwsVQMZ
lUtAw0nyLyuT/44uLSXN8pTBV91HhgCtzUnrZkeABMmKG3/CZrNegjWJngv+W+MkVSokTZ8pnNKf
8yWzN7mZQEE=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></wsse:Security></soap:Header><soap:Body xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="id-3"><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-5" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-21F9EFDF3513BC635312997841149095"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>Ovu6MgMBkEBwNZT7L+FBdTN8uCcVBllZOnEkXxt6M8Y9dF7O1B6X8k2B04XRG7SFipm+ANrP0vzH
4krancCVdHzhDkCz0Gvi6mKHgAKCs1XVdPsRp3iwYpYJkiVnMo+3SwzIaEqimbHJcyO/TUCG/AHw
D+IRHr64hvgpwnco+M1HGlve7naUQ1bZHgHq+N1lsEHUemFPD3LUMBxuLiCv1/dqFK82nu63isEX
TFTh7eOrpdC4z/63sVwH2WGfWQmcEyI5KZVQL83uTmKVsDqd5A==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:08:34 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 500
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[265], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><soap:Fault><faultcode>soap:Server</faultcode><faultstring>org.apache.ws.security.components.crypto.Merlin cannot create instance</faultstring></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:10:16 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@2dafae45: startup date [Thu Mar 10 19:10:16 GMT 2011]; root of context hierarchy
2011-03-10 19:10:16 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 19:10:16 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 19:10:17 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 19:10:17 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 19:10:17 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 19:10:17 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 19:10:17 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 19:10:17 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 19:10:17 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 19:10:17 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@dfa6d18: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 19:10:18 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 19:10:20 ClientSidePasswordCallback [INFO] Setting password for user adrian.trenaman existing password is 'null'
2011-03-10 19:10:21 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-DB4F5874B254B5850312997842209915"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>NwfJLAxGR6x5bTR1BAejYzRebWlKvpL12mcakjCrNsIqbcgZINGlyS6ABddNQlI3qETML9mxJcqWcXhg5J4tsIEL10WyHrjTmPRK0hDKB0DM7iUOgx8h9/d+yly1gR9qhtiH9Q/MNpC0oHsk9CC7gX2PgSdvNN7SaOXlrvrL2Ps=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-4"/><xenc:DataReference URI="#EncDataId-5"/></xenc:ReferenceList></xenc:EncryptedKey><wsse:BinarySecurityToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3" wsu:Id="CertId-DB4F5874B254B5850312997842202981">MIICtTCCAh6gAwIBAgIBAjANBgkqhkiG9w0BAQUFADBgMQswCQYDVQQGEwJJRTERMA8GA1UECBMITGVpbnN0ZXIxDzANBgNVBAcTBkR1YmxpbjETMBEGA1UEChMKRnVzZVNvdXJjZTELMAkGA1UECxMCUFMxCzAJBgNVBAMTAkNBMB4XDTExMDMxMDE4NTMzOVoXDTEyMDMwOTE4NTMzOVowZDELMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMRMwEQYDVQQKEwpGdXNlU291cmNlMRMwEQYDVQQLEwpQcm9kdWN0aW9uMRgwFgYDVQQDEw9BZHJpYW4gVHJlbmFtYW4wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALMW3GmS6Co6NZmXZ8voUM2Oik8t6/d1P4+mKSPRfRzXZUh91e4xTbuKbsqgLDz6vZNB5A3NRC6nNuKmCkMfpZYLuF1ptjSbjeIAsUezYyUm/paEWEAYwmmT550VxVnJ412SC7Mk3g797dN+VHVZEU4Ha5oYmhx0oDMRDzaT/dBXAgMBAAGjezB5MAkGA1UdEwQCMAAwLAYJYIZIAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBSvnNG8nejCIQrToGDSHcXQLcfSPTAfBgNVHSMEGDAWgBRFCwR7zJrKAdQsyLIdzzVHKMbtejANBgkqhkiG9w0BAQUFAAOBgQCrAyMEOOWgCRuWnndULiIL+YwZTlUcyMhjv34Sn/Jr9MY5ASHCwdISZ0LY+VCnHE9zfU6puQO5FICcFUFF1kDG/reROB7SJrxldkJG/B8hFJu/GJu+iChSszo3EX+K0vyrr/DdFvl/r/1pKmwUtKvAPMs5HXVbEHnIP1XLMJqxFA==</wsse:BinarySecurityToken><ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="Signature-2">
<ds:SignedInfo>
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
<ds:Reference URI="#Timestamp-1">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>IvgdvudyxGJnb/SulKsTu2tBLNQ=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#id-3">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>dDm+uaXhsqskOavrmhrrFfS/fdU=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>
<ds:SignatureValue>
Rb5Vnglp6DtEa7/3pjEkO+ybkK41SdsnosPk5vige6CAS9kwiJck3jne4XuBr/REc26wtMrrUzIx
rOWZRVvH9zUptEfi5WAUnyo12FpCV7FgxKfbuY1/qG0Vvbv4EsPGvPoUpeZU18wmmM5+4WBDuoA5
qK5ztwtZep2A/luHwHk=
</ds:SignatureValue>
<ds:KeyInfo Id="KeyId-DB4F5874B254B5850312997842203062">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="STRId-DB4F5874B254B5850312997842203083"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#CertId-DB4F5874B254B5850312997842202981" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3"/></wsse:SecurityTokenReference>
</ds:KeyInfo>
</ds:Signature><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-4" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-DB4F5874B254B5850312997842209915"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>4R6SPXkIZyVd6L79CeTN4dX/CqJ0C3pYB/lSJr6vW3XIcoeWMzHNFKhFqNnMjwHdd7Gt/G/PLlSm
48ytPVFgyWs8xPC+avKGTn+Iqu275x8utQ13i8GWfw5rgYr6oJfRuzI3A0Sel7OkpidUMdG39pQ/
fgovbjhG6r9VPNQGuWWPLRA/uMVW3GcAMD5DNNNaHAqgkApfQ1v9M2NuUyYPgCnHSulPvWs7B1x4
bPHNd1/9NpN4rTKntP0fjRsvJtSogn8rS5/s4oyWu8lWIXebSkgMVqqQW/Rlycv/rcpm5vUbPrkk
1bbN054HgNvkiAfQHgpOxEMaZ7oO7g4T3e5x/edkAwrGyYKlQ/LUTfWAb3M7PZ0/ayNYnQzIXvfS
pyu7Ckkl0c1tI+Egm66REn5UZ7Ntk8pnX+EcWMeMbwOjNhyjBDbq/lr14SG1NLjLbQ3tpno7kXDf
QfQeT26CR8ED40LV6B6tey825EY9+eDUIMS4WHA6Yga4pYsHLrApKKNkVzE/AN6a40etei72IsvN
2+UEt7fD82AzHzD4uKuBGDJfqMOSP5GwfFLhPgzCo6ZqzemSbyk9B0smtds9oObM1Sp6vZkBMNKW
dAWnwqW/H60=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></wsse:Security></soap:Header><soap:Body xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="id-3"><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-5" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-DB4F5874B254B5850312997842209915"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>pRMJGMnQbo9fXnKovCDdd3ofbVCgpA5acaYP9+Lz4Vnj7ng94EHey3Ie8Q48RTb2mMBRppRlkRfX
WM4Mh0v88C7aGFQYbZI35NsjOaWfzriZLwF1yIipUf7G52hAktqqqt2LdQPvOeQqc9E7r0w2h9XZ
bTEKp5OnL/BGsL9HbvTAoepvd55LW0YIeWpq0tZ1yvcZ5FLTRzIKk04msLBGcGArhowjyy64/4AB
ASOsJFF6TgVso2Q7bAse2DX4bbD9AJLXXcrNG9wUUQhg0Tmd1Q==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:10:21 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[431], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ns2:lookupCustomerResponse xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><ret><ns3:firstName>Ade</ns3:firstName><ns3:lastName>Trenaman</ns3:lastName><ns3:phoneNumber>+353-1-01234567</ns3:phoneNumber><ns3:id>007</ns3:id></ret></ns2:lookupCustomerResponse></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:13:32 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@72e6f7d2: startup date [Thu Mar 10 19:13:32 GMT 2011]; root of context hierarchy
2011-03-10 19:13:32 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 19:13:32 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 19:13:32 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 19:13:32 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 19:13:32 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 19:13:32 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 19:13:32 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 19:13:32 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 19:13:32 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 19:13:33 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@b035079: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 19:13:34 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 19:13:36 ClientSidePasswordCallback [INFO] Setting password for user Alice existing password is 'null'
2011-03-10 19:13:36 ClientSidePasswordCallback [INFO] Setting password for user adrian.trenaman existing password is 'null'
2011-03-10 19:13:37 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-1535EF76BA28959D9912997844169285"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>SkO7YcCOk9sx2ITd5+ptSwrmDW25WXpoFH0IqSxZX9NnnXDrStAzTQSFam8DVxBqxRAKC3dK8PKxh5s9qcprAtFYJA9IPWkq9bbIDaeuotCoEmiH/BqWn4AZ8kFRkUgPcSZ+GkcWwSzrv5VrckADk89jxvrYDzOtUiQT8C+0SKA=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-5"/><xenc:DataReference URI="#EncDataId-6"/></xenc:ReferenceList></xenc:EncryptedKey><wsse:BinarySecurityToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3" wsu:Id="CertId-1535EF76BA28959D9912997844162501">MIICtTCCAh6gAwIBAgIBAjANBgkqhkiG9w0BAQUFADBgMQswCQYDVQQGEwJJRTERMA8GA1UECBMITGVpbnN0ZXIxDzANBgNVBAcTBkR1YmxpbjETMBEGA1UEChMKRnVzZVNvdXJjZTELMAkGA1UECxMCUFMxCzAJBgNVBAMTAkNBMB4XDTExMDMxMDE4NTMzOVoXDTEyMDMwOTE4NTMzOVowZDELMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMRMwEQYDVQQKEwpGdXNlU291cmNlMRMwEQYDVQQLEwpQcm9kdWN0aW9uMRgwFgYDVQQDEw9BZHJpYW4gVHJlbmFtYW4wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALMW3GmS6Co6NZmXZ8voUM2Oik8t6/d1P4+mKSPRfRzXZUh91e4xTbuKbsqgLDz6vZNB5A3NRC6nNuKmCkMfpZYLuF1ptjSbjeIAsUezYyUm/paEWEAYwmmT550VxVnJ412SC7Mk3g797dN+VHVZEU4Ha5oYmhx0oDMRDzaT/dBXAgMBAAGjezB5MAkGA1UdEwQCMAAwLAYJYIZIAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBSvnNG8nejCIQrToGDSHcXQLcfSPTAfBgNVHSMEGDAWgBRFCwR7zJrKAdQsyLIdzzVHKMbtejANBgkqhkiG9w0BAQUFAAOBgQCrAyMEOOWgCRuWnndULiIL+YwZTlUcyMhjv34Sn/Jr9MY5ASHCwdISZ0LY+VCnHE9zfU6puQO5FICcFUFF1kDG/reROB7SJrxldkJG/B8hFJu/GJu+iChSszo3EX+K0vyrr/DdFvl/r/1pKmwUtKvAPMs5HXVbEHnIP1XLMJqxFA==</wsse:BinarySecurityToken><ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="Signature-3">
<ds:SignedInfo>
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
<ds:Reference URI="#Timestamp-2">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>RKJ3ktu/5Go5PUbRvadiBf183r0=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#id-4">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>p1YF2IB+Q8mFktsGZSTiEMbyjmc=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>
<ds:SignatureValue>
nqhk+xoyCAq5YLbnKi1Q6EBCJ5MPXNyanVQGm+VH5N4Z/pHMd/wfb66JFhLmLrD3EUa4MMT2WEmH
6BtqZCzTf/cKb2rOPNk23RGreMjGerbe9K0eKUhHs+ZgEkWbbVF57YyFZa8J5EgAdHDL4WKOLA1G
T/pkFdiQad/DXUgoWbg=
</ds:SignatureValue>
<ds:KeyInfo Id="KeyId-1535EF76BA28959D9912997844162582">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="STRId-1535EF76BA28959D9912997844162603"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#CertId-1535EF76BA28959D9912997844162501" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3"/></wsse:SecurityTokenReference>
</ds:KeyInfo>
</ds:Signature><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-5" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-1535EF76BA28959D9912997844169285"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>B7VUR4CuntjwNZo88R7Uy8qI5OdBocXz2yzeb8PYhToRdAPGp6Dr27jEP5Y7mq+lcIVtdLNoPu63
+0KA57g0ymnVYlPgeADZxFv3oWlfwnQIZEiZRytDSb+D5X6wqh5fKWFjiRHbrL17ic9+xDEvlLkH
f9r49HJqJ7Z34ok82QPuZT4JwpVkclnRN7gFwK5gW0nwoAiSNPW23KHbwJJunsNiOwwDRYnY3vzJ
JKZNHsn4XMGuAObV41gQJ46c3XfbA7GyT2SoRdAuzylSU8MyaoVYJ9+muzBQCIbLV1+5iMoU+403
bmSbKVM9q1yd2i0L5kM1JcpLtqcPzjWR9bxJ0PX3bZ+XVEsk/+cVPxoETYqVqL4IowQsA9KK//Fu
i6gDQBQicMNqOxBmXzbHa+GfQqTzYEhVlKseOy1hoiMt8HRKN5hazj9PwyPRpkDQcJTXumrXdiRB
oJ95/C0WbR/Qt1IMqqBnfSdwtM88n925NX8o3CPBtQHGWmZtoh11vGiCU4IYVODQ7DBDwtxw51Vz
p6ctQcROn8/3lm48MN3LOcl3U1BhK/mPeea0Sz71RxhF0bXKqqhqi3toAEn43i4b8IM+62QYikFh
k4pQBkaEcZY=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">FdgDwTCHugMNm76zJB0eBoMDJjA=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">PLjmCaQevZuMYuH28/txLA==</wsse:Nonce><wsu:Created>2011-03-10T19:13:36.242Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="id-4"><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-6" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-1535EF76BA28959D9912997844169285"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>7ebCAVKZuwXFFJmlmPGcxIcsCWpsnzXFAV3R3R66sLrZNL9T61//Cl4e3sEludyZwxPJ6d4Gcalt
/sFC/yrg2UWf2LLc5JK6DUPVgZ6AS6PlL4Hm4+ZfKqIKhZDmZiU3ZFvOb5Qdl7siDjCbStqlQBo+
u3q88hYSz9/59hN6b6WWjvKpJ0pub/NoacDH804/stkhPEuSUiUe2zV44fsBu72dIpbd5W9roR4I
EqFTyuU1L12f1SRwu68wWcAq/HuCRGkHXhlJx17jOM5sy5xNLw==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:13:37 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 500
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[361], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><soap:Fault><faultcode xmlns:ns1="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">ns1:InvalidSecurity</faultcode><faultstring>An error was discovered processing the &lt;wsse:Security> header</faultstring></soap:Fault></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:13:58 BusApplicationContext [INFO] Refreshing org.apache.cxf.bus.spring.BusApplicationContext@72e6f7d2: startup date [Thu Mar 10 19:13:58 GMT 2011]; root of context hierarchy
2011-03-10 19:13:58 BusApplicationContext [INFO] Loaded configuration file file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml.
2011-03-10 19:13:58 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf.xml]
2011-03-10 19:13:58 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-ws-security.xml]
2011-03-10 19:13:58 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-soap.xml]
2011-03-10 19:13:58 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-jaxws.xml]
2011-03-10 19:13:58 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-xml.xml]
2011-03-10 19:13:58 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-addr.xml]
2011-03-10 19:13:58 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from class path resource [META-INF/cxf/cxf-extension-http.xml]
2011-03-10 19:13:58 ControlledValidationXmlBeanDefinitionReader [INFO] Loading XML bean definitions from URL [file:/Users/ade/Documents/2011-CXF-Webinars/cxf-webinars/customer-ws-security-ut/src/main/resources/client.xml]
2011-03-10 19:13:58 DefaultListableBeanFactory [INFO] Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@6983d95: defining beans [cxf,org.apache.cxf.bus.spring.BusApplicationListener,org.apache.cxf.bus.spring.BusWiringBeanFactoryPostProcessor,org.apache.cxf.bus.spring.Jsr250BeanPostProcessor,org.apache.cxf.bus.spring.BusExtensionPostProcessor,org.apache.cxf.resource.ResourceManager,org.apache.cxf.configuration.Configurer,org.apache.cxf.binding.BindingFactoryManager,org.apache.cxf.transport.DestinationFactoryManager,org.apache.cxf.transport.ConduitInitiatorManager,org.apache.cxf.wsdl.WSDLManager,org.apache.cxf.phase.PhaseManager,org.apache.cxf.workqueue.WorkQueueManager,org.apache.cxf.buslifecycle.BusLifeCycleManager,org.apache.cxf.endpoint.ServerRegistry,org.apache.cxf.endpoint.ServerLifeCycleManager,org.apache.cxf.endpoint.ClientLifeCycleManager,org.apache.cxf.transports.http.QueryHandlerRegistry,org.apache.cxf.endpoint.EndpointResolverRegistry,org.apache.cxf.headers.HeaderManager,org.apache.cxf.catalog.OASISCatalogManager,org.apache.cxf.service.factory.FactoryBeanListenerManager,org.apache.cxf.endpoint.ServiceContractResolverRegistry,org.apache.cxf.ws.security.policy.WSSecurityPolicyLoader,org.apache.cxf.binding.soap.SoapBindingFactory,org.apache.cxf.binding.soap.SoapTransportFactory,org.apache.cxf.binding.soap.customEditorConfigurer,org.apache.cxf.jaxws.context.WebServiceContextResourceResolver,org.apache.cxf.jaxws.context.WebServiceContextImpl,org.apache.cxf.binding.xml.XMLBindingFactory,org.apache.cxf.ws.addressing.policy.AddressingAssertionBuilder,org.apache.cxf.ws.addressing.policy.AddressingPolicyInterceptorProvider,org.apache.cxf.ws.addressing.policy.UsingAddressingAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPClientAssertionBuilder,org.apache.cxf.transport.http.policy.HTTPServerAssertionBuilder,org.apache.cxf.transport.http.policy.NoOpPolicyInterceptorProvider,org.apache.cxf.transport.http.ClientOnlyHTTPTransportFactory,cxf.config0]; root of factory hierarchy
2011-03-10 19:13:59 ReflectionServiceFactoryBean [INFO] Creating Service {http://demo.fusesource.com/wsdl/CustomerService/}CustomerService from WSDL: https://samwise.local:8443/cxf/Customers?wsdl
2011-03-10 19:14:01 ClientSidePasswordCallback [INFO] Setting password for user Alice existing password is 'null'
2011-03-10 19:14:01 ClientSidePasswordCallback [INFO] Setting password for user adrian.trenaman existing password is 'null'
2011-03-10 19:14:02 AbstractLoggingInterceptor [INFO] Outbound Message
---------------------------
ID: 1
Address: https://samwise.local:8443/cxf/Customers
Encoding: UTF-8
Content-Type: text/xml
Headers: {SOAPAction=["http://www.example.org/CustomerService/lookupCustomer"], Accept=[*/*]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xenc="http://www.w3.org/2001/04/xmlenc#"><soap:Header><wsse:Security xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" soap:mustUnderstand="1"><xenc:EncryptedKey xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncKeyId-D3C04DEA1CD07C84DB12997844422395"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#rsa-1_5"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><ds:X509Data>
<ds:X509IssuerSerial>
<ds:X509IssuerName>CN=CA,OU=PS,O=FuseSource,L=Dublin,ST=Leinster,C=IE</ds:X509IssuerName>
<ds:X509SerialNumber>1</ds:X509SerialNumber>
</ds:X509IssuerSerial>
</ds:X509Data></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>JGZk9Dw9RKm3dfyOD3IOnMneJTSSwDnagsTEMvz16OL+PWuDnM5xHixv8xMkaNEd3rG7sptn/UswcVOI6C6vDGZr84J8O7+x9hL554XOuoNzjYZq2Y9h2uNR6Mr8o/8NXP/0OhvNtSY0NV3raWgufCrsA98skuNre3Wi2P5Jyrc=</xenc:CipherValue></xenc:CipherData><xenc:ReferenceList><xenc:DataReference URI="#EncDataId-5"/><xenc:DataReference URI="#EncDataId-6"/></xenc:ReferenceList></xenc:EncryptedKey><wsse:BinarySecurityToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3" wsu:Id="CertId-D3C04DEA1CD07C84DB12997844415641">MIICtTCCAh6gAwIBAgIBAjANBgkqhkiG9w0BAQUFADBgMQswCQYDVQQGEwJJRTERMA8GA1UECBMITGVpbnN0ZXIxDzANBgNVBAcTBkR1YmxpbjETMBEGA1UEChMKRnVzZVNvdXJjZTELMAkGA1UECxMCUFMxCzAJBgNVBAMTAkNBMB4XDTExMDMxMDE4NTMzOVoXDTEyMDMwOTE4NTMzOVowZDELMAkGA1UEBhMCSUUxETAPBgNVBAgTCExlaW5zdGVyMRMwEQYDVQQKEwpGdXNlU291cmNlMRMwEQYDVQQLEwpQcm9kdWN0aW9uMRgwFgYDVQQDEw9BZHJpYW4gVHJlbmFtYW4wgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBALMW3GmS6Co6NZmXZ8voUM2Oik8t6/d1P4+mKSPRfRzXZUh91e4xTbuKbsqgLDz6vZNB5A3NRC6nNuKmCkMfpZYLuF1ptjSbjeIAsUezYyUm/paEWEAYwmmT550VxVnJ412SC7Mk3g797dN+VHVZEU4Ha5oYmhx0oDMRDzaT/dBXAgMBAAGjezB5MAkGA1UdEwQCMAAwLAYJYIZIAYb4QgENBB8WHU9wZW5TU0wgR2VuZXJhdGVkIENlcnRpZmljYXRlMB0GA1UdDgQWBBSvnNG8nejCIQrToGDSHcXQLcfSPTAfBgNVHSMEGDAWgBRFCwR7zJrKAdQsyLIdzzVHKMbtejANBgkqhkiG9w0BAQUFAAOBgQCrAyMEOOWgCRuWnndULiIL+YwZTlUcyMhjv34Sn/Jr9MY5ASHCwdISZ0LY+VCnHE9zfU6puQO5FICcFUFF1kDG/reROB7SJrxldkJG/B8hFJu/GJu+iChSszo3EX+K0vyrr/DdFvl/r/1pKmwUtKvAPMs5HXVbEHnIP1XLMJqxFA==</wsse:BinarySecurityToken><ds:Signature xmlns:ds="http://www.w3.org/2000/09/xmldsig#" Id="Signature-3">
<ds:SignedInfo>
<ds:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
<ds:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1"/>
<ds:Reference URI="#Timestamp-2">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>gCdmi5+2mUzlQpFaveSULIAIFhg=</ds:DigestValue>
</ds:Reference>
<ds:Reference URI="#id-4">
<ds:Transforms>
<ds:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/>
</ds:Transforms>
<ds:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1"/>
<ds:DigestValue>p1YF2IB+Q8mFktsGZSTiEMbyjmc=</ds:DigestValue>
</ds:Reference>
</ds:SignedInfo>
<ds:SignatureValue>
nL2W9sXFHcsQWHcyHmFeHWM856JFCrOiCe694fL1u6+MGT/MFxUVacWt4RSz40HtevLegzH3OnhN
DBapRYeupkYeSPQAlcYvjEMYcsK3eoZ0ZLKDmFZ6cH72VtN8mqrSnl+5M5BknkvCbpXP9Cd4xblT
CKQhrHa8PPaHcpSHIUU=
</ds:SignatureValue>
<ds:KeyInfo Id="KeyId-D3C04DEA1CD07C84DB12997844415722">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="STRId-D3C04DEA1CD07C84DB12997844415733"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#CertId-D3C04DEA1CD07C84DB12997844415641" ValueType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3"/></wsse:SecurityTokenReference>
</ds:KeyInfo>
</ds:Signature><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-5" Type="http://www.w3.org/2001/04/xmlenc#Element"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-D3C04DEA1CD07C84DB12997844422395"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>AHHxoQPm5nT6F3FURf3H6N2v862cfz1iG7UMTvrim7sxPsjj0JCUBOCxA7uHEn7L9DPCzz5lKPW5
vmR9nmRd9lJOVsLHyYJ4TGOwyFU30WgAWm5TK0z2hL/dWwdhIYJen/39DWXteSGTloZ3XSmIoiHT
NYgakcz2p89TVszihU79E3vF8SIE5fSgDLeQVCwg0zroOlo29kSrQ2SBqer9CSA2L36zlZt6szZ7
6v1/P66PU/lb685ZfI3iXbb5c96CQzCCnAd+agpXU5ySNgv19RHGQC8CF5Sr7AmRr+0rzbPSKaCr
wYN3WwaIrRVGgwrCURYDMPWdvJtAkGk86EL+n59sIfPd3js8scXYK0mLvqVg7J+09E8TD20l0tMV
kosMDf86289cRSHyAYuvMailZGIz/bWyyF0HUQcmGRKfuvvlpuRzwOMW7Vk4/3/5KD87RjwQCy3f
Lpg8oDIXH0pN5P2f7/1qPHOAd2ZIJyKGK0flR8Y805LBs+9hsrJ10QeopytDJJIedMUBgMXIWMBJ
tVKQWbaJLXJNaLd5zdI8GKLrl+9G2CtNKWnlK2PbRHkZr2F/nUjI8+/dwg6gm1HuE/WArAC6vwxf
H+X3OPulLIs=</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData><wsse:UsernameToken xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="UsernameToken-1"><wsse:Username>Alice</wsse:Username><wsse:Password Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest">pDJCxpL6KjmZWbRSGAjDQCuWChU=</wsse:Password><wsse:Nonce EncodingType="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary">hkxLVNKtdK2sAQJlHWXflA==</wsse:Nonce><wsu:Created>2011-03-10T19:14:01.555Z</wsu:Created></wsse:UsernameToken></wsse:Security></soap:Header><soap:Body xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" wsu:Id="id-4"><xenc:EncryptedData xmlns:xenc="http://www.w3.org/2001/04/xmlenc#" Id="EncDataId-6" Type="http://www.w3.org/2001/04/xmlenc#Content"><xenc:EncryptionMethod Algorithm="http://www.w3.org/2001/04/xmlenc#aes128-cbc"/><ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
<wsse:SecurityTokenReference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd"><wsse:Reference xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" URI="#EncKeyId-D3C04DEA1CD07C84DB12997844422395"/></wsse:SecurityTokenReference>
</ds:KeyInfo><xenc:CipherData><xenc:CipherValue>l8GSc0qJW1NB3mKd9jVIggSEDNMIkUbkXbx6/fRQScQEeQIuWSwU/Pqf8+T6WHNl06hmWnGgv01X
Y0D3EkrR8QtfMK3rlQ8mFSJpCkcXz9Wyb5/JYRJybffp53wErfdGcjVS6JeYbfU2UKh/c52vyolj
WyG6fxp6L/Pl/ITWcWDRG6RhtjakveuqxeQS+7P7qdlu/E+vocaSVykjYuj83IwivgMMs6hekZET
BZTuEqvc9KGhVwh9IbBqqG2rrsNE3sql2fHlm6tk2dK+EtOYoQ==</xenc:CipherValue></xenc:CipherData></xenc:EncryptedData></soap:Body></soap:Envelope>
--------------------------------------
2011-03-10 19:14:02 AbstractLoggingInterceptor [INFO] Inbound Message
----------------------------
ID: 1
Response-Code: 200
Encoding: UTF-8
Content-Type: text/xml; charset=utf-8
Headers: {content-type=[text/xml; charset=utf-8], Content-Length=[431], Server=[Jetty(6.1.x)]}
Payload: <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"><soap:Body><ns2:lookupCustomerResponse xmlns:ns2="http://demo.fusesource.com/wsdl/CustomerService/" xmlns:ns3="http://www.fusesource.com/demo/customer"><ret><ns3:firstName>Ade</ns3:firstName><ns3:lastName>Trenaman</ns3:lastName><ns3:phoneNumber>+353-1-01234567</ns3:phoneNumber><ns3:id>007</ns3:id></ret></ns2:lookupCustomerResponse></soap:Body></soap:Envelope>
--------------------------------------
